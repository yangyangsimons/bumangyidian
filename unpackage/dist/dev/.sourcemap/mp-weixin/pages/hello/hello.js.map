{"version":3,"file":"hello.js","sources":["pages/hello/hello.vue","pages/hello/hello.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"hello-container\">\n    <image class=\"global-title\" src=\"../../static/global-title.png\"></image>\n    <!-- <uni-nav-bar title=\"不芒一点\" left-icon=\"left\" /> -->\n    <view class=\"header\">\n      <view class=\"title\"\n        ><text>Hello</text>\n        <view class=\"bar\"></view>\n      </view>\n\n      <text class=\"describe\">填写基本信息，解锁更懂你的 AI 体验</text>\n    </view>\n    <view class=\"main\">\n      <view class=\"sex-container\">\n        <view class=\"second-title\">\n          <image class=\"icon\" src=\"../../static/sex-icon.png\"></image>\n          <text class=\"describe\">性别</text>\n        </view>\n        <view class=\"sex-choice-container\">\n          <view class=\"male\" @click=\"selectSex('male')\">\n            <image :src=\"maleImageSrc\" mode=\"scaleToFill\" />\n          </view>\n          <view class=\"female\" @click=\"selectSex('female')\">\n            <image :src=\"femaleImageSrc\" mode=\"scaleToFill\" />\n          </view>\n        </view>\n      </view>\n      <view class=\"birth-container\">\n        <view class=\"second-title\">\n          <image class=\"icon\" src=\"../../static/birth-icon.png\"></image>\n          <text class=\"describe\">出生日期</text>\n        </view>\n        <view class=\"birth-choice-container\">\n          <view class=\"date-container\">\n            <image class=\"date-icon\" src=\"../../static/date-icon.png\"></image>\n            <picker\n              mode=\"date\"\n              :start=\"startDate\"\n              :end=\"endDate\"\n              @change=\"bindDateChange\"\n            >\n              <view class=\"date-display\">\n                <text class=\"year\">{{ dateParts.year }}</text> 年\n                <text class=\"month\">{{ dateParts.month }}</text> 月\n                <text class=\"day\">{{ dateParts.day }}</text> 日\n              </view>\n            </picker>\n            <image class=\"more-icon\" src=\"../../static/more-icon.png\"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"footer\">\n      <button class=\"next\" @click=\"handleNext\">\n        <text class=\"next-text\">下一步</text>\n      </button>\n    </view>\n  </view>\n</template>\n\n<script setup>\n  import { ref, computed } from 'vue'\n  const selectedSex = ref('male')\n  const maleImageSrc = computed(() => {\n    return selectedSex.value === 'male'\n      ? '../../static/sex/male-select.png'\n      : '../../static/sex/male-unselect.png'\n  })\n\n  const femaleImageSrc = computed(() => {\n    return selectedSex.value === 'female'\n      ? '../../static/sex/female-select.png'\n      : '../../static/sex/female-unselect.png'\n  })\n  // 选择性别的方法\n  const selectSex = (sex) => {\n    selectedSex.value = sex\n    console.log('选择的性别:', selectedSex.value)\n  }\n\n  const rawDate = ref('2020-10-10')\n  const startDate = ref('1900-01-01')\n  const endDate = ref('2023-10-01')\n\n  // 显示用计算属性（自动转换为带中文的数组）\n  const dateParts = computed(() => {\n    const [year, month, day] = rawDate.value.split('-')\n    return {\n      year,\n      month: parseInt(month), // 去除前导零\n      day: parseInt(day), // 去除前导零\n    }\n  })\n\n  const bindDateChange = (e) => {\n    rawDate.value = e.detail.value\n    // console.log('date', e)\n  }\n  const handleNext = () => {\n    if (selectedSex.value) {\n      console.log('选择的性别:', selectedSex.value)\n      console.log('选择的日期:', rawDate.value)\n      uni.setStorage({\n        key: 'sex',\n        data: selectedSex.value,\n        success: (result) => {\n          console.log('性别存储成功:', result)\n        },\n        fail: (error) => {\n          console.log('性别存储失败:', error)\n        },\n      })\n      uni.setStorage({\n        key: 'birth',\n        data: rawDate.value,\n        success: (result) => {\n          console.log('出生日期存储成功:', result)\n          uni.reLaunch({ url: '/pages/questionnaire/questionnaire' })\n        },\n        fail: (error) => {\n          console.log('出生日期存储失败:', error)\n        },\n      })\n      uni.setStorage({\n        key: 'isFirst',\n        data: true,\n        success: (result) => {\n          console.log('首次使用存储成功:', result)\n        },\n        fail: (error) => {\n          console.log('首次使用存储失败:', error)\n        },\n      })\n    } else {\n      uni.showToast({\n        title: '请先选择性别',\n        icon: 'none',\n      })\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/lynnyang/work/project/xjlab/HBuilderProjects/bumangyidian/pages/hello/hello.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni"],"mappings":";;;;;;AA8DE,UAAM,cAAcA,cAAG,IAAC,MAAM;AAC9B,UAAM,eAAeC,cAAAA,SAAS,MAAM;AAClC,aAAO,YAAY,UAAU,SACzB,qCACA;AAAA,IACR,CAAG;AAED,UAAM,iBAAiBA,cAAAA,SAAS,MAAM;AACpC,aAAO,YAAY,UAAU,WACzB,uCACA;AAAA,IACR,CAAG;AAED,UAAM,YAAY,CAAC,QAAQ;AACzB,kBAAY,QAAQ;AACpBC,oBAAA,MAAA,MAAA,OAAA,+BAAY,UAAU,YAAY,KAAK;AAAA,IACxC;AAED,UAAM,UAAUF,cAAG,IAAC,YAAY;AAChC,UAAM,YAAYA,cAAG,IAAC,YAAY;AAClC,UAAM,UAAUA,cAAG,IAAC,YAAY;AAGhC,UAAM,YAAYC,cAAAA,SAAS,MAAM;AAC/B,YAAM,CAAC,MAAM,OAAO,GAAG,IAAI,QAAQ,MAAM,MAAM,GAAG;AAClD,aAAO;AAAA,QACL;AAAA,QACA,OAAO,SAAS,KAAK;AAAA;AAAA,QACrB,KAAK,SAAS,GAAG;AAAA;AAAA,MAClB;AAAA,IACL,CAAG;AAED,UAAM,iBAAiB,CAAC,MAAM;AAC5B,cAAQ,QAAQ,EAAE,OAAO;AAAA,IAE1B;AACD,UAAM,aAAa,MAAM;AACvB,UAAI,YAAY,OAAO;AACrBC,sBAAY,MAAA,MAAA,OAAA,gCAAA,UAAU,YAAY,KAAK;AACvCA,sBAAA,MAAA,MAAA,OAAA,gCAAY,UAAU,QAAQ,KAAK;AACnCA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,YAAY;AAAA,UAClB,SAAS,CAAC,WAAW;AACnBA,0BAAAA,MAAY,MAAA,OAAA,gCAAA,WAAW,MAAM;AAAA,UAC9B;AAAA,UACD,MAAM,CAAC,UAAU;AACfA,0BAAAA,MAAY,MAAA,OAAA,gCAAA,WAAW,KAAK;AAAA,UAC7B;AAAA,QACT,CAAO;AACDA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,QAAQ;AAAA,UACd,SAAS,CAAC,WAAW;AACnBA,0BAAAA,MAAA,MAAA,OAAA,gCAAY,aAAa,MAAM;AAC/BA,0BAAAA,MAAI,SAAS,EAAE,KAAK,qCAAoC,CAAE;AAAA,UAC3D;AAAA,UACD,MAAM,CAAC,UAAU;AACfA,0BAAAA,MAAA,MAAA,OAAA,gCAAY,aAAa,KAAK;AAAA,UAC/B;AAAA,QACT,CAAO;AACDA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,SAAS,CAAC,WAAW;AACnBA,0BAAAA,MAAA,MAAA,OAAA,gCAAY,aAAa,MAAM;AAAA,UAChC;AAAA,UACD,MAAM,CAAC,UAAU;AACfA,0BAAAA,MAAA,MAAA,OAAA,gCAAY,aAAa,KAAK;AAAA,UAC/B;AAAA,QACT,CAAO;AAAA,MACP,OAAW;AACLA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACd,CAAO;AAAA,MACF;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;AC1IH,GAAG,WAAW,eAAe;"}